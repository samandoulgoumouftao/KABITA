{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="swiper mySwiper">
    <div class="swiper-wrapper">
        
        <div class="swiper-slide bg-black">
            <a href="{% url 'boutique' %}" class="block w-full h-full relative group overflow-hidden">
                <img src="{% static 'images/vendeur.png' %}" class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000">
                <div class="relative z-10 h-full flex items-center justify-center text-center">
                    <div data-swiper-parallax="-300">
                        <h2 class="text-5xl md:text-8xl font-black text-white uppercase tracking-tighter">Boutique Pro</h2>
                        <p class="text-gray-300 tracking-[0.3em] uppercase text-xs mt-4">Découvrir le matériel →</p>
                    </div>
                </div>
            </a>
        </div>

        <div class="swiper-slide bg-black">
            <a href="{% url 'home' %}#services" class="block w-full h-full relative group overflow-hidden">
                <img src="{% static 'images/maintenancier.png' %}" class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000">
                <div class="relative z-10 h-full flex items-center justify-center text-center">
                    <div data-swiper-parallax="-300">
                        <h2 class="text-5xl md:text-8xl font-black text-white uppercase tracking-tighter">Expertise Tech</h2>
                        <p class="text-gray-300 tracking-[0.3em] uppercase text-xs mt-4">Maintenance & Réparation →</p>
                    </div>
                </div>
            </a>
        </div>

        <div class="swiper-slide bg-black">
            <a href="{% url 'home' %}#blog" class="block w-full h-full relative group overflow-hidden">
                <img src="{% static 'images/montage.png' %}" class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-1000">
                <div class="relative z-10 h-full flex items-center justify-center text-center">
                    <div data-swiper-parallax="-300">
                        <h2 class="text-5xl md:text-8xl font-black text-white uppercase tracking-tighter">Audiovisuel</h2>
                        <p class="text-gray-300 tracking-[0.3em] uppercase text-xs mt-4">Voir nos réalisations →</p>
                    </div>
                </div>
            </a>
        </div>

    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-next text-white"></div>
    <div class="swiper-button-prev text-white"></div>
</div>

<main class="max-w-5xl mx-auto px-6 py-24">
    <div class="mb-24">
        <h2 class="text-6xl md:text-8xl font-black leading-tight mb-8 tracking-tighter uppercase text-black">
            DÉVELOPPEUR & <br>EXPERT TECH.
        </h2>
        <p class="max-w-3xl text-xl text-gray-500 leading-relaxed font-light mb-12 italic">
            "La technologie au service de votre vision."
        </p>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-[10px] uppercase tracking-[0.2em] font-bold text-black">
            <div class="border-l-2 border-black pl-4">Web Design</div>
            <div class="border-l-2 border-black pl-4">Maintenance</div>
            <div class="border-l-2 border-black pl-4">Matériel Pro</div>
            <div class="border-l-2 border-black pl-4">Audiovisuel</div>
        </div>
    </div>

    <section id="services" class="bg-black text-white -mx-6 px-6 py-24 mb-32">
        <div class="max-w-5xl mx-auto">
            <h3 class="text-xs font-bold uppercase tracking-widest text-gray-500 mb-16 italic">// Mes Services</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16">
                <div>
                    <h4 class="text-2xl font-bold mb-4">Développement Web</h4>
                    <p class="text-gray-400 font-light leading-relaxed">Applications sur mesure avec Django & Tailwind CSS.</p>
                </div>
                <div>
                    <h4 class="text-2xl font-bold mb-4">Maintenance Expert</h4>
                    <p class="text-gray-400 font-light leading-relaxed">Optimisation système et réparation électronique (PC/Laptops).</p>
                </div>
            </div>
        </div>
    </section>

    <section id="blog" class="mb-32">
        <h3 class="text-xs font-bold uppercase tracking-widest text-gray-400 mb-16">Sélection de travaux</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-24">
            {% for article in articles %}
            <article class="group">
                {% if article.image %}
                <div class="overflow-hidden mb-6 aspect-video bg-gray-100">
                    <img src="{{ article.image.url }}" class="w-full h-full object-cover img-grayscale transition-transform duration-700 group-hover:scale-105">
                </div>
                {% endif %}
                <h4 class="text-2xl font-bold mb-4 tracking-tight group-hover:underline text-black">
                    {{ article.titre }}
                </h4>
                <p class="text-gray-500 leading-relaxed font-light">{{ article.contenu|truncatewords:20 }}</p>
            </article>
            {% empty %}
            <p class="text-gray-400 italic">Aucun projet pour le moment.</p>
            {% endfor %}
        </div>
    </section>
</main>

<script>
  var swiper = new Swiper(".mySwiper", {
    direction: "horizontal",
    loop: true,
    parallax: true,
    speed: 1200,
    autoplay: { delay: 4000 },
    pagination: { el: ".swiper-pagination", clickable: true },
    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
  });
</script>

<style>
    /* Slider prend tout l'écran au chargement */
    .swiper { width: 100%; height: 100vh; }
    
    /* On permet au reste de la page d'être scrollé */
    body { background-color: #fcfcfc; overflow-y: auto !important; }

    /* Style des boutons de navigation */
    .swiper-button-next:after, .swiper-button-prev:after { font-size: 18px; }
</style>
{% endblock %}